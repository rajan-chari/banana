import type { User, ChatPreview, Message } from '../types/chat';

// Mock Users
export const users: Record<string, User> = {
  me: {
    id: 'user-1',
    displayName: 'Alex Morgan',
    initials: 'AM',
    status: 'online',
  },
  sarah: {
    id: 'user-2',
    displayName: 'Sarah Chen',
    initials: 'SC',
    status: 'online',
  },
  james: {
    id: 'user-3',
    displayName: 'James Wilson',
    initials: 'JW',
    status: 'away',
  },
  priya: {
    id: 'user-4',
    displayName: 'Priya Patel',
    initials: 'PP',
    status: 'busy',
  },
  marcus: {
    id: 'user-5',
    displayName: 'Marcus Johnson',
    initials: 'MJ',
    status: 'offline',
  },
};

// Helper to create dates
function daysAgo(days: number, hours = 0, minutes = 0): Date {
  const d = new Date();
  d.setDate(d.getDate() - days);
  d.setHours(hours, minutes, 0, 0);
  return d;
}

// Mock Chats
export const chats: ChatPreview[] = [
  {
    id: 'chat-1',
    type: 'direct',
    title: 'Sarah Chen',
    avatarInitials: 'SC',
    lastMessage: {
      senderName: 'Sarah Chen',
      content: 'Sounds good, I\'ll review the PR this afternoon',
      timestamp: daysAgo(0, 14, 32),
    },
    unreadCount: 2,
    isMuted: false,
    isPinned: true,
    members: [users.me!, users.sarah!],
  },
  {
    id: 'chat-2',
    type: 'group',
    title: 'Frontend Team',
    avatarInitials: 'FT',
    lastMessage: {
      senderName: 'James Wilson',
      content: 'Has anyone tried the new Vite 6 features?',
      timestamp: daysAgo(0, 13, 15),
    },
    unreadCount: 5,
    isMuted: false,
    isPinned: true,
    members: [users.me!, users.sarah!, users.james!, users.priya!],
  },
  {
    id: 'chat-3',
    type: 'direct',
    title: 'James Wilson',
    avatarInitials: 'JW',
    lastMessage: {
      senderName: 'You',
      content: 'Let me check the deployment logs',
      timestamp: daysAgo(0, 11, 45),
    },
    unreadCount: 0,
    isMuted: false,
    isPinned: false,
    members: [users.me!, users.james!],
  },
  {
    id: 'chat-4',
    type: 'group',
    title: 'Project Alpha',
    avatarInitials: 'PA',
    lastMessage: {
      senderName: 'Priya Patel',
      content: 'Sprint retrospective notes have been posted',
      timestamp: daysAgo(1, 16, 30),
    },
    unreadCount: 0,
    isMuted: true,
    isPinned: false,
    members: [users.me!, users.sarah!, users.james!, users.priya!, users.marcus!],
  },
  {
    id: 'chat-5',
    type: 'direct',
    title: 'Priya Patel',
    avatarInitials: 'PP',
    lastMessage: {
      senderName: 'Priya Patel',
      content: 'The security audit report is ready for review',
      timestamp: daysAgo(1, 10, 0),
    },
    unreadCount: 1,
    isMuted: false,
    isPinned: false,
    members: [users.me!, users.priya!],
  },
  {
    id: 'chat-6',
    type: 'group',
    title: 'Design System',
    avatarInitials: 'DS',
    lastMessage: {
      senderName: 'Marcus Johnson',
      content: 'Updated the color tokens for dark mode',
      timestamp: daysAgo(2, 9, 0),
    },
    unreadCount: 0,
    isMuted: false,
    isPinned: false,
    members: [users.me!, users.marcus!, users.sarah!],
  },
];

// Mock Messages for chat-1 (Sarah Chen DM)
export const messages: Message[] = [
  // Yesterday
  {
    id: 'msg-1',
    chatId: 'chat-1',
    sender: users.sarah!,
    content: 'Hey Alex, have you had a chance to look at the component library?',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(1, 9, 30),
  },
  {
    id: 'msg-2',
    chatId: 'chat-1',
    sender: users.me!,
    content: 'Hi Sarah! Yes, I started reviewing it yesterday. The design tokens look solid.',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(1, 9, 35),
  },
  {
    id: 'msg-3',
    chatId: 'chat-1',
    sender: users.me!,
    content: 'I have a few suggestions for the spacing scale though.',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(1, 9, 36),
  },
  {
    id: 'msg-4',
    chatId: 'chat-1',
    sender: users.sarah!,
    content: 'That would be great! Can you create a doc with your suggestions?',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(1, 9, 40),
  },
  {
    id: 'msg-5',
    chatId: 'chat-1',
    sender: users.me!,
    content: 'Sure, I\'ll put something together this afternoon.',
    type: 'text',
    reactions: [],
    isEdited: true,
    createdAt: daysAgo(1, 9, 42),
  },
  {
    id: 'msg-6',
    chatId: 'chat-1',
    sender: users.sarah!,
    content: 'Perfect. Also, the team standup is moving to 10 AM starting next week.',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(1, 11, 0),
  },
  {
    id: 'msg-7',
    chatId: 'chat-1',
    sender: users.me!,
    content: 'Got it, thanks for the heads up.',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(1, 11, 5),
  },
  // Today
  {
    id: 'msg-8',
    chatId: 'chat-1',
    sender: users.sarah!,
    content: 'Morning! Did you finish the spacing doc?',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(0, 9, 0),
  },
  {
    id: 'msg-9',
    chatId: 'chat-1',
    sender: users.me!,
    content: 'Yes! Here are my recommendations:',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(0, 9, 15),
  },
  {
    id: 'msg-10',
    chatId: 'chat-1',
    sender: users.me!,
    content: '1. Use a 4px base grid consistently\n2. Add --space-0.5 (2px) for tight gaps\n3. Keep the scale logarithmic after 32px',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(0, 9, 16),
  },
  {
    id: 'msg-11',
    chatId: 'chat-1',
    sender: users.sarah!,
    content: 'These are really good suggestions. I especially like the 2px option for fine-tuning.',
    type: 'text',
    replyTo: {
      id: 'msg-10',
      senderName: 'Alex Morgan',
      contentPreview: '1. Use a 4px base grid consistently 2. Add --space-0.5...',
    },
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(0, 10, 0),
  },
  {
    id: 'msg-12',
    chatId: 'chat-1',
    sender: users.sarah!,
    content: 'I\'ll update the design tokens and push a PR.',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(0, 10, 1),
  },
  {
    id: 'msg-13',
    chatId: 'chat-1',
    sender: users.me!,
    content: 'Awesome. Tag me as a reviewer when it\'s ready.',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(0, 10, 5),
  },
  {
    id: 'msg-14',
    chatId: 'chat-1',
    sender: users.sarah!,
    content: 'Will do. By the way, have you seen the new mockups from design?',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(0, 13, 0),
  },
  {
    id: 'msg-15',
    chatId: 'chat-1',
    sender: users.me!,
    content: 'Not yet. Can you send me the link?',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(0, 13, 10),
  },
  {
    id: 'msg-16',
    chatId: 'chat-1',
    sender: users.sarah!,
    content: 'Just shared them in the Frontend Team chat. The dark mode designs look fantastic.',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(0, 13, 15),
  },
  {
    id: 'msg-17',
    chatId: 'chat-1',
    sender: users.me!,
    content: 'Nice, I\'ll check them out. Should we schedule a review session with the team?',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(0, 14, 0),
  },
  {
    id: 'msg-18',
    chatId: 'chat-1',
    sender: users.sarah!,
    content: 'Sounds good, I\'ll review the PR this afternoon',
    type: 'text',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(0, 14, 32),
  },
  // System message example
  {
    id: 'msg-sys-1',
    chatId: 'chat-2',
    sender: users.sarah!,
    content: 'Sarah Chen created this group',
    type: 'system',
    reactions: [],
    isEdited: false,
    createdAt: daysAgo(7, 9, 0),
  },
];
